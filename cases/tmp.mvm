baseunit dollar "$";
baseunit euro "ï¿½";
unit litre "l" (deci metre)^3;
unit pound "lb" 0.45359237*kilo gram;
unit ounce "oz" pound/16;
unit barrel "bbl" 117.347765*litre;
baseunit each "each";
baseunit bag "bag";
baseunit case "case";
baseunit can "can";
baseunit tub "tub";
baseunit gal "gal";
baseunit roll "roll";
baseunit sleeve "sleeve";
baseunit box "box";
baseunit bottle "bottle";
entity Product "case1/product.entity";
index Product bom_unit "case1/product.bom_unit";
index Product trade_unit "case1/product.trade_unit";
conversion conv "Product" "bom_unit" "trade_unit";
load output "case1/output.csv" "1" "Product.trade_unit" "empty";
load purchase_price "case1/purchase_price.csv" "euro" "empty" "Product.trade_unit";
load sales_price "case1/sales_price.csv" "euro" "empty" "Product.trade_unit";
load bom "case1/bom.csv" "1" "Product.bom_unit" "Product.bom_unit";
entity Commodity "case2/commodity.entity";
entity Year "case2/year.entity";
entity Region "case2/region.entity";
index Commodity unit "case2/commodity.unit";
load sales "case2/sales.csv" "dollar" "empty" "Commodity,Year,Region.1";
load amount "case2/amount.csv" "1" "Commodity,Year,Region.unit,1,1" "empty";
projection P0 "Commodity,Year,Region.1" "Commodity.1";
projection P1 "Commodity,Year,Region.1" "Commodity,Year.1";
projection P2 "Year,Commodity.1,unit" "Commodity,Year,Region.unit,1,1";
entity Ingredient "case3/ingredient.entity";
entity Menu "case3/menu.entity";
index Ingredient unit "case3/ingredient.unit";
load semi_bom "case3/semi_bom.csv" "1" "Ingredient.unit" "Menu.1";
load ingredient_price "case3/ingredient_price.csv" "dollar" "empty" "Ingredient.unit";
load menu_sales "case3/menu_sales.csv" "1" "Menu.1" "empty";
load menu_price "case3/menu_price.csv" "dollar" "empty" "Menu.1";
skip;
skip;
transpose r1 amount;
reciprocal r2 r1;
multiply r3 sales r2;
skip;
skip;
transpose r4 P2;
reciprocal r5 r4;
join r6 r3 r5; 
print r6
